@model BudgetPlanner.ViewModels.AddAccountViewModel
@using BudgetPlanner.Models
@using Microsoft.AspNet.Identity



<div>
    @using (Html.BeginForm("Create", "Accounts", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        @Html.AntiForgeryToken()
        <div>
            @{
                ApplicationDbContext db = new ApplicationDbContext();
                var userId = User.Identity.GetUserId();
                var user = db.Users.FirstOrDefault(i => i.Id == userId);
            }
        </div>
        @Html.Hidden("HouseholdId", user.HouseholdId)

        <div class="form-horizontal">
            <h4>Add Account</h4>

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="field">
                <label for="Name">Account Name Name:</label>
                <input type="text" id="Name" name="Name" value="" placeholder="Account Name" class="form-control" />
                @Html.ValidationMessage("Name", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="BankId">Bank:</label>
                <div class="field">@Html.DropDownList("Banks", null, new { @class = "form-control" })</div>
                @Html.ValidationMessage("Banks", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="TypeId"> Account Type:</label>
                <div class="field">@Html.DropDownList("Type", null, new { @class = "form-control" } )</div>
                @Html.ValidationMessage("Type", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="Desciption">Description:</label>
                <input type="text" id="Description" name="Description" value="" placeholder="Description" class="form-control" />
                @Html.ValidationMessage("Description", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="AccountNumber">Account Number:</label>
                <input type="number" id="AccountNumber" name="AccountNumber" value="" placeholder="Account Number" class="form-control" />
                @Html.ValidationMessage("AccountNumber", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="RoutingNumber">Routing Number:</label>
                <input type="number" id="RoutingNumber" name="RoutingNumber" value="" placeholder="Account Routing Number" class="form-control" />
                @Html.ValidationMessage("RoutingNumber", "", new { @class = "text-danger" })
            </div>
            <div class="field">
                <label for="StartingBalance">Starting Balance:</label>
                <input type="Number" id="StartingBalance" name="StartingBalance" value="" placeholder="Account Starting Balance" class="form-control" />
                @Html.ValidationMessage("StartingBalance", "", new { @class = "text-danger" })
            </div>
        </div>
        <br />
        <div>
            <input type="submit" class="btn btn-primary btn-lg" value="Submit" />
        </div>
    }
</div>
